<view class="container">
  <view class="header">
    <view class="title">总会记住</view>
    <view class="subtitle">上传Excel开始你的记忆之旅</view>
  </view>

  <view class="fixed-upload {{fileList.length > 0 ? 'upload-shifted' : ''}}">
    <view class="upload-btn" bindtap="chooseFile">
      <view class="upload-icon">+</view>
      <view class="upload-text">更多记忆</view>
    </view>
  </view>

  <view class="files-section {{fileList.length > 0 ? 'has-files' : ''}}">
    <view class="file-grid">
      <view 
        class="file-btn" 
        wx:for="{{fileList}}" 
        wx:key="jsonPath"
        bindtap="goToRandomView" 
        bindlongpress="showDeleteConfirm"
        data-file="{{item}}"
      >
        <view class="file-content">
          <text class="file-name">{{item.jsonName}}</text>
          <view class="progress-container">
            <view class="progress-bar">
              <view 
                class="progress-fill"
                style="width: {{(item.rememberedCount || 0) / item.data.total * 100}}%"
              ></view>
            </view>
            <text class="progress-text">{{(item.rememberedCount || 0)}}/{{item.data.total}}</text>
          </view>
        </view>
      </view>
    </view>
  </view>
</view> 